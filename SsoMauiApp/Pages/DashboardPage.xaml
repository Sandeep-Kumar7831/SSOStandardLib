<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SsoMauiApp.Pages.DashboardPage"
             Title="Dashboard">

    <VerticalStackLayout Padding="20" Spacing="15">

        <Label Text="User Dashboard" 
               FontSize="24" 
               FontAttributes="Bold" />

        <Label Text="{Binding StatusMessage}" 
               FontSize="14"
               TextColor="Gray" />

        <ActivityIndicator IsRunning="{Binding IsLoading}" 
                          IsVisible="{Binding IsLoading}"
                          Color="Blue" />

        <Frame BorderColor="LightGray" 
               CornerRadius="10" 
               Padding="15"
               HasShadow="True">
            <VerticalStackLayout Spacing="5">
                <Label Text="Access Token:" FontAttributes="Bold" />
                <Label Text="{Binding AccessToken}" 
                       FontSize="11"
                       TextColor="DarkGray"
                       LineBreakMode="WordWrap" />
            </VerticalStackLayout>
        </Frame>

        <StackLayout Spacing="10">
            <Button Text="Load User Data"
                    Command="{Binding LoadUserDataCommand}"
                    IsEnabled="{Binding IsLoading, StringFormat='!{0}'}"
                    Padding="10" />

            <Button Text="Refresh Token"
                    Command="{Binding RefreshTokenCommand}"
                    IsEnabled="{Binding IsLoading, StringFormat='!{0}'}"
                    Padding="10"
                    Background="Orange"
                    TextColor="White" />

            <Button Text="Logout"
                    Command="{Binding LogoutCommand}"
                    IsEnabled="{Binding IsLoading, StringFormat='!{0}'}"
                    Padding="10"
                    Background="Red"
                    TextColor="White" />
        </StackLayout>

    </VerticalStackLayout>

</ContentPage>